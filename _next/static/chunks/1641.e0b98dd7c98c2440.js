"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1641],{1641:function(e,t,n){n.r(t);var s=n(7294),a=n(7886),r=n(1163),i=n(39),o=n(9173),l=n(1248),c=n(5893);t.default=function(e){var t=e.getLessonType,n=e.lesson,d=e.index,u=e.prevLessonEntity,p=e.prevModuleEntity,f=(0,r.useRouter)(),x=(0,l.v9)((function(e){return e.dataSlice.currentModule})),h=(0,l.v9)((function(e){return e.dataSlice.player})),g=(0,l.v9)((function(e){return e.dataSlice.currentLessonTracking})),m=(0,l.v9)((function(e){return e.dataSlice.moduleListing})),y=(0,l.v9)((function(e){return e.dataSlice.currentCourse})),k=f.query.id,v=(0,s.useState)(!1),j=v[0],w=v[1],C=(0,s.useState)(!1),N=C[0],b=C[1],S=(0,s.useState)(0),T=S[0],E=S[1],M=(0,s.useState)(!1),V=M[0],B=M[1],L=(0,s.useState)(0),z=L[0],$=L[1],_=(0,s.useState)(!1),H=_[0],I=_[1],Z=(0,s.useState)(!1),A=Z[0],D=Z[1],F=(0,i.Z)().translate;(0,s.useEffect)((function(){k&&(w(!1),b(!1),E(0))}),[k]),(0,s.useEffect)((function(){n&&n.tracking&&"personality"===(0,a.jV)(n.type)&&D(!!n.tracking&&n.tracking.isCompleted)}),[n]),(0,s.useEffect)((function(){if(g&&n){var e,t;if(n.id===(null===g||void 0===g||null===(e=g.trackingData)||void 0===e?void 0:e.id)&&(null===g||void 0===g||null===(t=g.trackingData)||void 0===t?void 0:t.type)===n.type)I(!0),w(!1),b(!1),E((0,a.zV)(g.progress)),g.progress>=100?w(!0):b(!0);else{I(!1);var s=n.userTrackings&&n.userTrackings.length?n.userTrackings[0]:null;if(s){if(s.lessonId&&n.id===s.lessonId&&"LESSON"===s.entityType)E((0,a.zV)(s.progress));else if(s.assessmentId&&n.id===s.assessmentId&&"ASSESSMENT"===s.entityType){var r=s.progress;E((0,a.zV)(r))}s.progress>=100?w(!0):b(!0)}else b(!1),E(0)}B(!1)}}),[g,n]);var O;return(0,c.jsx)("div",{id:"".concat(n.id,"_").concat(n.type),className:"py-3 md:py-4 cursor-pointer hover:text-secondary-light hover:dark:text-secondary-dark ".concat(H?"text-secondary-light dark:text-secondary-dark":"text-white dark:text-black"," "),onMouseEnter:function(){return $(1)},onMouseLeave:function(){return $(0)},onClick:function(){return(0,a.$k)(n)&&!H?t(n,m?x:y):void(h&&n&&n.tracking&&n.tracking.isCompleted&&(h.restart(),h.play()))},children:(0,c.jsxs)("div",{className:"relative flex w-full justify-between items-start px-4 md:px-5",children:[(0,c.jsxs)("div",{className:"flex w-10/12",children:[(0,c.jsx)("span",{className:"pr-2 f-f-s text-base flex items-start leading-normal !leading-leadingHeading ".concat((0,a.$k)(n)?"opacity-100":"opacity-40 "),children:function(e){var t=parseInt(e);return t>=10?t:"0".concat(t)}(d)}),(0,c.jsxs)("div",{className:"flex flex-col w-full",children:[(0,c.jsx)("h1",{className:"f-f-s text-base flex items-start leading-normal !leading-leadingHeading  ".concat((0,a.$k)(n)?"opacity-100":"opacity-40 "),children:"".concat(n.name)}),(0,c.jsx)("p",{className:"text-xs font-bold !font-fontBody leading-none !leading-leadingBody cursor-pointer mt-2 ".concat((0,a.$k)(n)?"opacity-100":"opacity-40 "),children:"".concat((0,a.$k)(n)?A?"".concat(F.finished):j&&!H?"".concat(F.restart," \u2192"):H?"":"".concat(N?F.contnu:F.start," \u2192"):"".concat(F.locked))})]})]}),(0,c.jsx)("div",{className:"relative w-10 flex justify-center items-center flex-shrink-0",children:(0,a.$k)(n)?V?(0,c.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):j?o.Ml:N?(0,c.jsxs)("div",{className:"f-f-s flex items-center justify-center font-bold !font-fontBody text-base ",children:[(0,c.jsx)("p",{children:Math.round(T)}),(0,c.jsx)("span",{className:"pl-1",children:" %"})]}):o.pU:(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)("svg",{className:" z-30",width:"16",height:"22",viewBox:"0 0 16 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M13.2 9.89999V5.50001C13.2 2.46732 10.7316 0 7.69997 0C4.66619 0 2.19996 2.46732 2.19996 5.50001V9.89999C0.986699 9.89999 0 10.8856 0 12.1V19.8C0 21.0133 0.986699 22 2.20001 22H13.2C14.4133 22 15.4 21.0133 15.4 19.8V12.1C15.4 10.8856 14.4133 9.89999 13.2 9.89999ZM7.69997 17.6C6.78918 17.6 6.04998 16.8608 6.04998 15.95C6.04998 15.0392 6.78918 14.3 7.69997 14.3C8.61077 14.3 9.34997 15.0392 9.34997 15.95C9.34997 16.8608 8.61077 17.6 7.69997 17.6ZM11 9.89999H4.39998V5.50001C4.39998 3.68063 5.88059 2.20002 7.69997 2.20002C9.51936 2.20002 11 3.68063 11 5.50001V9.89999Z",fill:"currentColor"})}),1==z&&(0,c.jsxs)("div",{role:"tooltip",className:"z-50 absolute transition duration-150 ease-in-out top-0 mt-8 mr-40 shadow-lg pt-4 pr-5 pl-3 pb-3 bg-secondary-light text-secondary-light dark:bg-secondary-dark dark:text-secondary-dark rounded-lg w-56",children:[(0,c.jsx)("svg",{className:"absolute top-0 right-6 -mt-2",width:"16px",height:"8px",viewBox:"0 0 16 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,c.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:(0,c.jsx)("g",{id:"Tooltips-",transform:"translate(-93.000000, -355.000000)",fill:"currentColor",children:(0,c.jsx)("g",{id:"Group-3-Copy-3",transform:"translate(76.000000, 331.000000)",children:(0,c.jsx)("polygon",{id:"Triangle",transform:"translate(25.000000, 28.000000) rotate(-360.000000) translate(-25.000000, -28.000000) ",points:"25 24 33 32 17 32"})})})})}),(0,c.jsx)("p",{className:"text-base text-primary-light dark:text-primary-dark text-center ",children:u&&!(0,a.$k)(n)?(0,c.jsxs)("span",{children:[" ",F.roundFirst," ",(0,c.jsx)("span",{className:"font-bold !font-fontBody",children:u&&u.name})," ",F.finishToOpenLesson," "]}):(0,a.qA)(n)?p&&!p.progress<100?(0,c.jsxs)("span",{children:[" ",F.roundFirst," ",(0,c.jsx)("span",{className:"font-bold !font-fontBody",children:p.name})," ",F.finishToOpenLesson," "]}):"- ".concat(F.locked," -"):(0,c.jsxs)("span",{children:[F.lessonComesUp," ",F.available," ",(0,c.jsx)("span",{className:"font-bold",children:(O=n.unlock_at,new Date(O).toUTCString())})]})})]})]})})]})},d)}}}]);