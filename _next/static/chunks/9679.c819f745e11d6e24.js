"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9679],{9679:function(e,t,n){n.r(t);var l=n(9499),i=n(7294),o=n(5152),r=n.n(o),a=n(1443),s=n.n(a),d=n(7886),c=n(8831),u=n(2076),f=n(39),p=n(791),x=n(1248),m=n(4512),g=n(5532),h=n(9779),v=n(1681),y=n(9139),w=n(5460),j=n(9173),b=n(1163),k=n(5893);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L=r()(function(){return n.e(2736).then(n.bind(n,2736))},{loadableGenerated:{webpack:function(){return[2736]}}}),O=r()(function(){return n.e(4085).then(n.bind(n,4085))},{loadableGenerated:{webpack:function(){return[4085]}}}),S=r()(function(){return n.e(6155).then(n.bind(n,6155))},{loadableGenerated:{webpack:function(){return[6155]}}}),D=r()(function(){return n.e(9824).then(n.bind(n,9824))},{loadableGenerated:{webpack:function(){return[9824]}}}),T=function(e){var t,n,l,o=e.lesson,r=e.setLessonEnded,a=e.getLessonType,N=e.moduleCompleted,T=e.courseCompleted,H=e.lessonEnded,E=e.lessonCompleted,I=e.setLessonCompleted,P=e.lessonLocked,z=e.updating,M=e.timerOn,R=e.setTimerOn,F=e.contentHeight,_=e.contentSectionRef,A=e.createUpdateLessonTracking,Z=e.videoLessonTracking,W=(0,x.I0)(),B=(0,b.useRouter)().push,G=(0,f.Z)().translate,V=(0,x.v9)(function(e){return e.dataSlice.player}),Y=(0,x.v9)(function(e){return e.dataSlice.themeMode}),q=(0,x.v9)(function(e){return e.dataSlice.newMenuToggle}),K=(0,x.v9)(function(e){return e.dataSlice.modalsToggle}),U=(0,x.v9)(function(e){return e.dataSlice.currentModule}),$=(0,x.v9)(function(e){return e.dataSlice.moduleListing}),J=(0,x.v9)(function(e){return e.dataSlice.currentCourse}),Q=(0,x.v9)(function(e){return e.dataSlice.nextLesson}),X=(0,i.useState)(null),ee=X[0],et=X[1],en=(0,i.useState)(window.innerHeight),el=en[0],ei=en[1],eo=(0,i.useState)(window.innerWidth),er=eo[0],ea=eo[1],es=(0,i.useState)(!0),ed=es[0],ec=es[1],eu=(0,i.useState)(!0),ef=eu[0],ep=eu[1],ex=(0,i.useState)({effect:"confetti",toggle:!1}),em=ex[0],eg=ex[1],eh=(0,i.useState)(!0),ev=eh[0],ey=eh[1],ew=0,ej=(0,u.w5)("balloonsReward","balloons",{elementCount:200,elementSize:18,spread:150,zIndex:50,lifetime:1e3,startVelocity:10}).reward;(0,i.useEffect)(function(){H&&setTimeout(function(){ep(!1)},2e3)},[H]),(0,i.useEffect)(function(){Y&&("light"===Y&&document.documentElement.style.setProperty("--secondary-color",p.PRIMARY_COLOR_LIGHT),"dark"===Y&&document.documentElement.style.setProperty("--secondary-color",p.PRIMARY_DARK))},[Y]),(0,i.useEffect)(function(){if(window.innerWidth||window.innerHeight){var e=window.innerWidth;ei(window.innerHeight),ea(e)}},[window.innerHeight,window.innerWidth]),(0,i.useEffect)(function(){if(ey(!0),Z&&o){var e,t,n,l,i,r=null==o?void 0:null===(e=o.content)||void 0===e?void 0:e.media,a=null==r?void 0:r.type,s=null==r?void 0:r.videoID;"youtube"===a&&(s=(0,d.ZB)(null==r?void 0:r.videoID)),"vimeo"===a&&(s=(0,d.h1)(null==r?void 0:r.videoID)),(null==U?void 0:null===(t=U.meta)||void 0===t?void 0:null===(n=t.settings)||void 0===n?void 0:n.custom)&&eg(null==U?void 0:null===(l=U.meta)||void 0===l?void 0:null===(i=l.settings)||void 0===i?void 0:i.custom),et({provider:a,videoId:s}),ey(!1)}},[o,Z]),(0,i.useEffect)(function(){o&&ec((0,d.$k)(o))},[o]),(0,i.useEffect)(function(){if(ee&&ee.videoId)try{var e=new(s())("#plyrio",{controls:["play-large","play","progress","duration","mute","volume","captions","fullscreen"],width:100,height:100,playsinline:!0,disableContextMenu:!0,vimeo:{byline:!1,portrait:!1,playsinline:!0},youtube:{playsinline:!0},fullscreen:{fallback:!0,enable:!0,allowAudio:!0,iosNative:!1},autoplay:!0,captions:{active:!0,language:"auto",update:!0},ratio:"16:9"});if(e){var t,n,l=Z&&null!=Z&&null!==(t=Z.trackingData)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.progressLength?Z.trackingData.data.progressLength:0,i=Z&&(null==Z?void 0:Z.progress)===100;e.on("ready",function(e){return function(e,t,n){var l=e.detail.plyr;try{l&&(n?(l.currentTime=0,l.loading=!1,l.muted=!1,l.autoplay=!0,l.play()):t&&setTimeout(function(){l.currentTime=Math.ceil(t)===Math.ceil(l.duration)&&0!=l.duration?0:t,l.muted=!1,l.autoplay=!0,l.play()},500))}catch(i){console.log("e",i)}}(e,l,i)}),e.on("timeupdate",function(e){return!i&&function(e){var t=e.detail.plyr,n=t.currentTime,l=n/t.duration*100,i=Number(l.toFixed());if(i%2==0&&i!==ew&&0!==n&&!Z.trackingData.data.isCompleted){ew=i;var r=o.id,a=o.type;A(o,{progress:Number(l.toFixed(2)),trackingData:{id:r,type:a,data:{isCompleted:Z.trackingData.data.isCompleted,report:null,progressLength:n}}})}if(!Z.trackingData.data.isCompleted){var s,d=structuredClone(Z),c=null===(s=d)||void 0===s?void 0:s.trackingData;c=C(C({},c),{},{data:C(C({},c.data),{},{progressLength:n})}),d=C(C({},d),{},{progress:i,trackingData:C({},c)}),W((0,m._b)(d))}}(e)}),e.on("ended",function(t){if(!i){var n=t.detail.plyr;n.stop(),e.fullscreen.active&&t.detail.plyr.fullscreen.exit(),R(!0),r(!0);var l=n.currentTime,a=o.id,s=o.type,d={progress:100,trackingData:{id:a,type:s,data:{isCompleted:Z.trackingData.data.isCompleted,report:null,progressLength:l}}};A(o,d)}})}W((0,m.Sl)(e))}catch(a){console.log("err: player",a)}return function(){V&&V.destroy()}},[ee]),(0,i.useEffect)(function(){(E||N||T)&&em&&null!=em&&em.toggle&&(null==em?void 0:em.effect)==="balloons"&&ej()},[em,E,T,N]);var eb=function(){Q?$?a(Q,U):a(Q,J):B($?"/course/".concat(U.course.id):"/course-overview")};return(0,k.jsx)(i.Fragment,{children:ed?(0,k.jsxs)(i.Fragment,{children:[(0,k.jsxs)("div",{ref:_,style:{height:"auto",minHeight:null!=F&&F.videoHeight?null==F?void 0:F.videoHeight:"486px"},className:"relative w-full drop-shadow-20px ".concat(q?"h-full lg:h-[544px] rounded-10":"h-[540px] rounded-l-lg"),children:[ev?(0,k.jsx)("div",{className:"flex items-center min-h-[210px] lg:h-[486px] justify-center w-full h-full",children:(0,k.jsxs)("svg",{className:"animate-spin h-12 w-12 text-primary-light dark:text-primary-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,k.jsx)(i.Fragment,{children:ee&&ee.videoId&&ee.provider?(0,k.jsx)("div",{style:{height:null!=F&&F.videoHeight?F.videoHeight:"auto"},"aria-label":o.name,id:"plyrio",className:"w-full h-full object-cover object-center ".concat(q?"lg:h-[540px] rounded-[10px]":"h-[540px] rounded-l-lg"),"data-plyr-provider":ee?ee.provider:"","data-plyr-embed-id":ee?ee.videoId:""}):(0,k.jsxs)("div",{className:"flex items-center justify-center w-full h-full bg-white dark:bg-darkBg shadow-lg min-h-[486px]  ".concat(q?"lg:h-[544px] w-full rounded-10":"lg:h-[486px] lg:rounded-l-lg"),children:[(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x opacity-50",width:"80",height:"80",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#000000",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,k.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,k.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,k.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),(0,k.jsx)("p",{className:"py-5 text-lg font-semibold",children:G.validVideoIDNotFound})]})}),K?(0,k.jsx)(i.Fragment,{children:E&&M?em&&null!=em&&em.toggle?(0,k.jsx)(O,{lesson:o,updating:z,getLessonType:a,moduleCompleted:N,setLessonCompleted:I}):(0,k.jsx)(S,{setTimerOn:R,lesson:o,updating:z,getLessonType:a,setLessonCompleted:I}):P?(0,k.jsx)(y.Z,{lesson:o,rounded:q}):N?(0,k.jsx)(h.Z,{getLessonType:a,rounded:q}):T?(0,k.jsx)(g.Z,{getLessonType:a,rounded:q}):null}):null,!ee&&!o&&(0,k.jsx)("div",{className:"absolute inset-0 w-full flex items-center justify-center z-50 bg-wmo-grey-AD bg-opacity-50",children:(0,k.jsxs)("svg",{className:"animate-spin h-12 w-12 text-primary-light dark:text-primary-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),(0,k.jsx)("h1",{className:"text-primary-light dark:text-primary-dark font-bold !font-fontHeading text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl f-f-p w-full lg:w-10/12 xl:w-full my-3 px-4 md:px-0 ",children:null==o?void 0:o.name}),(0,k.jsx)("p",{className:"text-primary-light dark:text-primary-dark font-medium !font-fontHeading text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl f-f-p w-full lg:w-10/12 xl:w-full my-3 px-4 md:px-0 ",children:null==o?void 0:o.description}),null!=o&&null!==(t=o.content)&&void 0!==t&&t.contentSections&&null!=o&&null!==(n=o.content)&&void 0!==n&&null!==(l=n.contentSections)&&void 0!==l&&l.length?(0,k.jsx)("div",{className:"w-full md:-mx-4 -mx-3",children:(0,k.jsx)(D,{contentSections:o.content.contentSections,getLessonType:a,authorData:o.authorData})}):(0,k.jsx)("div",{className:"w-full justify-end mt-5 hidden xl:flex",children:(0,k.jsx)(w.default,{icon:j._3,text:G.nextOne,disabled:z,onClickHandler:function(){return!z&&eb()}})}),(E||N||T)&&em&&null!=em&&em.toggle&&(null==em?void 0:em.effect)!=="no effects"?(0,k.jsx)("div",{style:{zIndex:100},className:"fixed inset-0 pointer-events-none",children:em&&(null==em?void 0:em.effect)==="fireworks"?(0,k.jsx)(c.Fireworks,{options:{speed:4,autoresize:!0,explosion:20,acceleration:1,trace:5,gravity:.2,particles:80,delay:{min:0,max:25},brightness:{min:70,max:100}},style:{top:0,left:0,width:"100%",height:"100%",position:"fixed"}}):em&&(null==em?void 0:em.effect)==="balloons"?(0,k.jsx)("div",{className:"absolute bottom-0 left-0 right-0 z-[200]",children:(0,k.jsx)("div",{className:"flex items-center justify-center",children:(0,k.jsx)("span",{id:"balloonsReward"})})}):em&&(null==em?void 0:em.effect)==="confetti"?(0,k.jsx)(L,{recycle:ef,numberOfPieces:er>=1080?300:150,width:er,height:el,gravity:.1,wind:.01,className:"w-full h-full z-50"}):null}):null]}):(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:(0,k.jsx)("div",{className:"relative w-full min-h-[486px]",children:(0,d.qA)(o)?(0,k.jsx)(v.Z,{getLessonType:a,rounded:q}):(0,k.jsx)(y.Z,{lesson:o,rounded:q})})}),(0,k.jsx)("h1",{className:"px-4 md:px-0 text-primary-light dark:text-primary-dark font-bold !font-fontHeading text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl f-f-p w-full lg:w-10/12 xl:w-full my-3 ",children:null==o?void 0:o.name})]})})};t.default=T}}]);