"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3993],{3993:function(e,t,n){n.r(t);var s=n(9499),i=n(29),r=n(7794),a=n.n(r),o=n(7294),l=n(5152),c=n.n(l),u=n(7886),d=n(8831),m=n(1248),f=n(39),p=n(5532),g=n(9779),x=n(1681),h=n(9139),w=n(5893);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=c()(function(){return n.e(6155).then(n.bind(n,6155))},{loadableGenerated:{webpack:function(){return[6155]}}}),j=c()(function(){return n.e(4085).then(n.bind(n,4085))},{loadableGenerated:{webpack:function(){return[4085]}}}),y=c()(function(){return n.e(2736).then(n.bind(n,2736))},{loadableGenerated:{webpack:function(){return[2736]}}}),L=c()(function(){return n.e(9824).then(n.bind(n,9824))},{loadableGenerated:{webpack:function(){return[9824]}}});t.default=function(e){var t,n,s,r,l=e.lesson,c=e.setLessonEnded,v=e.getLessonType,S=e.moduleCompleted,_=e.courseCompleted,O=e.lessonEnded,T=e.lessonCompleted,C=e.setLessonCompleted,N=e.setLessonLocked,M=(e.lessonLocked,e.updating),D=e.timerOn,E=e.setTimerOn,z=e.createUpdateLessonTracking,P=(0,m.v9)(function(e){return e.dataSlice.user}),H=(0,m.v9)(function(e){return e.dataSlice.token}),G=(0,f.Z)().translate,V=(0,m.v9)(function(e){return e.dataSlice.currentModule}),W=(0,m.v9)(function(e){return e.dataSlice.modalsToggle}),Z=(0,m.v9)(function(e){return e.dataSlice.newMenuToggle}),F=(0,o.useState)(!0),I=F[0],R=F[1],q=(0,o.useState)({effect:"confetti",toggle:!1}),A=q[0],B=q[1],U=(0,o.useState)(null),$=U[0],J=U[1],K=(0,o.useState)(null),Q=K[0],X=K[1],Y=(0,o.useState)(null),ee=Y[0],et=Y[1],en=(0,o.useState)(window.innerHeight),es=en[0],ei=en[1],er=(0,o.useState)(window.innerWidth),ea=er[0],eo=er[1],el=(0,o.useState)(!0),ec=el[0],eu=el[1],ed=(0,o.useState)(20),em=ed[0],ef=ed[1],ep=(0,o.useState)(!1),eg=ep[0],ex=ep[1];(0,o.useEffect)(function(){if(window.innerWidth||window.innerHeight){var e=window.innerWidth;ei(window.innerHeight),eo(e)}},[window.innerHeight,window.innerWidth]);var eh=(0,o.useState)({"cmi.core.exit":"","cmi.core.lesson_location":"","cmi.core.lesson_status":"","cmi.core.score.max":"","cmi.core.score.raw":"","cmi.core.session_time":"","cmi.core.student_id":P.email,"cmi.core.student_name":P.displayName,"cmi.core.total_time":"0000:00:00.00","cmi.interactions._count":"0","cmi.suspend_data":""})[0],ew=(0,o.useState)({"cmi.exit":"","cmi.location":"","cmi.completion_status":"","cmi.score.max":"","cmi.score.raw":"","cmi.session_time":"","cmi.learner_id":P.email,"cmi.learner_name":P.displayName,"cmi.total_time":"0000:00:00.00","cmi.interactions._count":"0","cmi.suspend_data":""})[0];(0,o.useEffect)((0,i.Z)(a().mark(function e(){var t,n,s,i,r,o,l,c,u;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:eg&&(i="1.2"===(s=eg.content.media).version||"scorm12"===s.version?eh:ew,c=k(k({},(o=null!=(r=eg.userTrackings&&(null===(t=eg.userTrackings[0])||void 0===t?void 0:t.trackingData)&&eg.userTrackings[0])&&null!==(n=r.trackingData)&&void 0!==n&&n.data?r.trackingData.data:null)&&o.report&&o.report["cmi.suspend_data"]?o.report:i),{},{courseTitle:eg.name,sco:"",path:"https://lf-scorm-uploads-bucket.s3.amazonaws.com/LMS/Connector/dispatcher.html?https://lf-scorm-uploads-bucket.s3.amazonaws.com/LMS/Packages/".concat(s.targetid,"/").concat(s.launch),version:"1.2"===s.version||"scorm12"===s.version?"scorm12":"scorm2004"}),u={progress:null!=r&&r.progress?r.progress:0,trackingData:{id:eg.id,type:eg.type,data:{isCompleted:null!=o&&!!o.isCompleted&&(null==o?void 0:o.isCompleted),report:c,progressLength:0}}},"1.2"===s.version||"scorm12"===s.version?X(new SCORMapi1_2(c,eg.id,P.id,"",H)):et(new SCORMapi1_3(c,eg.id,P.id,"",H)),J(u));case 1:case"end":return e.stop()}},e)})),[eg]),(0,o.useEffect)(function(){if(l){var e,t,n,s;(null==V?void 0:null===(e=V.meta)||void 0===e?void 0:null===(t=e.settings)||void 0===t?void 0:t.custom)&&B(null==V?void 0:null===(n=V.meta)||void 0===n?void 0:null===(s=n.settings)||void 0===s?void 0:s.custom),R((0,u.$k)(l)),ex(l)}},[l]),(0,o.useEffect)(function(){O&&setTimeout(function(){eu(!1)},2e3)},[O]),(0,o.useEffect)(function(){if(window.innerWidth||window.innerHeight){var e=window.innerWidth;ei(window.innerHeight),eo(e)}},[window.innerHeight,window.innerWidth]);var ev=function(e){var t=k({},$);t.trackingData.data.report=k(k({},$.trackingData.data.report),e);var n=e&&e["cmi.core.score.raw"]||e["cmi.score.raw"],s=e&&e["cmi.core.lesson_status"]&&("completed"===e["cmi.core.lesson_status"]||"passed"===e["cmi.core.lesson_status"])||e["cmi.completion_status"]&&("completed"===e["cmi.completion_status"]||"passed"===e["cmi.completion_status"])||100==n;n?t.progress=parseInt(n):s?(t.progress=100,t.trackingData.data.progressLength=100,c(!0),E(!0)):(t.progress=25,t.trackingData.data.progressLength=25),J(t),em!=t.trackingData.data.progressLength&&z(eg,t),ef(t.trackingData.data.progressLength)};function ek(e){return eb.apply(this,arguments)}function eb(){return(eb=(0,i.Z)(a().mark(function e(t){var n,s,i,r,o,l,c,u;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!=(n=t.data).func)){e.next=70;break}if("LMSInitialize"!=n.func){e.next=6;break}Q.LMSInitialize(""),e.next=70;break;case 6:if("LMSGetValue"!=n.func){e.next=10;break}Q.LMSGetValue(n.message),e.next=70;break;case 10:if("LMSSetValue"!=n.func){e.next=17;break}i=(s=n.message.split("="))[0],r=s[1],Q.LMSSetValue(i,r),e.next=70;break;case 17:if("LMSCommit"!=n.func){e.next=24;break}return e.next=20,Q.LMSCommit("");case 20:(o=e.sent)&&ev(o),e.next=70;break;case 24:if("LMSFinish"!=n.func){e.next=31;break}return e.next=27,Q.LMSFinish("");case 27:(l=e.sent)&&ev(l),e.next=70;break;case 31:if("Initialize"!=n.func){e.next=35;break}ee.Initialize(""),e.next=70;break;case 35:if("GetValue"!=n.func){e.next=39;break}ee.GetValue(n.message),e.next=70;break;case 39:if("SetValue"!=n.func){e.next=46;break}i=(s=n.message.split("="))[0],r=s[1],ee.SetValue(i,r),e.next=70;break;case 46:if("Commit"!=n.func){e.next=59;break}return e.prev=47,e.next=50,ee.Commit("");case 50:(c=e.sent)&&ev(c),e.next=57;break;case 54:e.prev=54,e.t0=e.catch(47),console.log("err",e.t0);case 57:e.next=70;break;case 59:if("Terminate"!=n.func){e.next=70;break}return e.prev=60,e.next=63,ee.Terminate("");case 63:(u=e.sent)&&ev(u),e.next=70;break;case 67:e.prev=67,e.t1=e.catch(60),console.log("err",e.t1);case 70:case"end":return e.stop()}},e,null,[[47,54],[60,67]])}))).apply(this,arguments)}return(0,w.jsx)(o.Fragment,{children:I?(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)("div",{className:"".concat(Z?"h-full lg:h-[544px] w-full rounded-[10px]":" h-[486px] rounded-l-lg "," w-full relative z-10 drop-shadow-wmo-20px"),children:[(0,w.jsxs)("div",{role:"button",className:"relative w-full h-full",onClick:function(){var e,t,n,s,i;window.addEventListener?window.addEventListener("message",ek,!1):window.attachEvent&&window.attachEvent("onmessage",ek,!1),n=null,null!==$&&(n=$.trackingData.data.report),s="",null!==n&&(s=n.path),i=window.open(s,"Player",",width="+ea+",height="+es),setTimeout(function(){i.postMessage(n,"*")},2e3),setTimeout(function e(){i.closed?window.removeEventListener("message",ek,!1):setTimeout(e,300)},1e3),i.focus()},children:[(0,w.jsx)("img",{className:"w-full h-full object-cover object-center xl:rounded-l-[10px]",src:null==l?void 0:null===(t=l.images)||void 0===t?void 0:t.primary}),(0,w.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,w.jsx)("div",{className:"flex items-center w-full h-full justify-center",children:(0,w.jsxs)("div",{className:"hover:scale-105 transition-all ease-in-out duration-300 shadow-xl px-4 py-2 text-lg rounded-full flex z-20 space-x-2 justify-center items-center bg-primary-light dark:bg-primary-dark group-hover:bg-white group-hover:text-primary-light text-white dark:text-black",children:[(0,w.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-player-play",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1",stroke:"currentColor",fill:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,w.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,w.jsx)("path",{d:"M7 4v16l13 -8z"})]}),(0,w.jsx)("p",{className:"capitalize",children:"".concat(G.clickToOpen)})]})})})]}),W?(0,w.jsx)(o.Fragment,{children:T&&D?A&&null!=A&&A.toggle?(0,w.jsx)(j,{lesson:l,updating:M,getLessonType:v,moduleCompleted:S,setLessonCompleted:C,setLessonLocked:N}):(0,w.jsx)(b,{setTimerOn:E,lesson:l,updating:M,getLessonType:v,setLessonCompleted:C,setLessonLocked:N}):S?(0,w.jsx)(g.Z,{getLessonType:v,rounded:Z}):_?(0,w.jsx)(p.Z,{getLessonType:v,rounded:Z}):null}):null]}),(0,w.jsx)("h1",{className:"cursor-default px-4 text-primary-light dark:text-primary-dark font-bold !font-fontHeading text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl f-f-p w-full lg:w-10/12 xl:w-full my-3 ",children:l.name}),(null==eg?void 0:null===(n=eg.content)||void 0===n?void 0:n.contentSections)&&(null==eg?void 0:null===(s=eg.content)||void 0===s?void 0:null===(r=s.contentSections)||void 0===r?void 0:r.length)&&(0,w.jsx)("div",{className:"w-full ",children:(0,w.jsx)(L,{contentSections:eg.content.contentSections,getLessonType:v,authorData:eg.authorData})}),(T||S||_)&&A&&null!=A&&A.toggle&&(null==A?void 0:A.effect)!=="no effects"?(0,w.jsx)("div",{style:{zIndex:100},className:"fixed inset-0 pointer-events-none",children:A&&(null==A?void 0:A.effect)==="fireworks"?(0,w.jsx)(d.Fireworks,{options:{speed:4,autoresize:!0,explosion:20,acceleration:1,trace:5,gravity:.2,particles:80,delay:{min:0,max:25},brightness:{min:70,max:100}},style:{top:0,left:0,width:"100%",height:"100%",position:"fixed"}}):A&&(null==A?void 0:A.effect)==="balloons"?(0,w.jsx)("div",{className:"absolute bottom-0 left-0 right-0 z-[200]",children:(0,w.jsx)("div",{className:"flex items-center justify-center",children:(0,w.jsx)("span",{id:"balloonsReward",type:"balloons"})})}):A&&(null==A?void 0:A.effect)==="confetti"?(0,w.jsx)(y,{recycle:ec,numberOfPieces:ea>=1080?300:150,width:ea,height:es,gravity:.1,wind:.01,className:"w-full h-full z-50"}):null}):null]}):(0,w.jsxs)(o.Fragment,{children:[(0,w.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:(0,w.jsx)("div",{className:"relative w-full min-h-[486px]",children:(0,u.qA)(l)?(0,w.jsx)(x.Z,{getLessonType:v,rounded:Z}):(0,w.jsx)(h.Z,{lesson:l,rounded:Z})})}),(0,w.jsx)("h1",{className:"text-primary-light font-bold !font-fontHeading text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl f-f-p w-full lg:w-10/12 xl:w-full my-3 ",children:l.name})]})})}}}]);